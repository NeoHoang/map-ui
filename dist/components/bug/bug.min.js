var MapzenBug=function(){"use strict";function e(e,t,n,i){return"undefined"==typeof ga?!1:(console.log("Event tracked:",g,e,t,i),void ga("send","event",g,e,t,n,i))}function t(){!function(e,t,n,i,o,a,c){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,a=t.createElement(n),c=t.getElementsByTagName(n)[0],a.async=1,a.src=i,c.parentNode.insertBefore(a,c)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-47035811-1","auto"),ga("send","pageview")}function n(){var e=document.createElement("link"),t=document.head.querySelectorAll("link, style")[0];e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",w),"undefined"!==t?document.head.insertBefore(e,t):document.head.appendChild(e)}function i(e,t,n,i){var o=void 0!==window.screenLeft?window.screenLeft:screen.left,a=void 0!==window.screenTop?window.screenTop:screen.top,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=c/2-n/2+o,l=r/3-i/3+a,d=window.open(e,t,"scrollbars=yes, width="+n+", height="+i+", top="+l+", left="+s);window.focus&&d.focus()}function o(){var e,t,n="https://twitter.com/intent/tweet",i=encodeURIComponent(window.location.href);return e=encodeURIComponent(m.tweet?m.tweet:m.name?m.name+", powered by @mapzen":"Check out this project by @mapzen!"),t="?text="+e+"&url="+i,n+t}function a(){var e="https://www.facebook.com/sharer/sharer.php?u=",t=encodeURIComponent(window.location.href);return e+t}function c(){{var e=document.createElement("div"),t=m.link||p,n=m.name?m.name+" Â· Powered by Mapzen":"Powered by Mapzen",i=m.repo||f;document.createElement("div")}e.id="mz-bug",e.className="mz-bug-container",e.setAttribute("role","widget");var c=r("mapzen",t,n,s),h=r("twitter",o(),"Share this on Twitter",l),w=r("facebook",a(),"Share this on Facebook",d),g=r("github",i,"View source on GitHub",u);return e.appendChild(c),e.appendChild(h),e.appendChild(w),e.appendChild(g),document.body.appendChild(e),e}function r(e,t,n,i){var o=document.createElement("a"),a=document.createElement("div");return a.className="mz-bug-"+e+"-logo",o.href=t,o.target="_blank",o.className="mz-bug-"+e+"-link",o.title=n,o.addEventListener("click",i),o.appendChild(a),o}function s(t){m.analytics===!0&&e("click","mapzen logo",m.name)}function l(t){t.preventDefault();var n=o();i(n,"Twitter",580,470),m.analytics===!0&&e("click","twitter",m.name)}function d(t){t.preventDefault();var n=a();i(n,"Facebook",580,470),m.analytics===!0&&e("click","facebook",m.name)}function u(t){m.analytics===!0&&e("click","github",m.name)}var m,h="https:"===window.location.protocol?"https:":"http:",w=h+"//s3.amazonaws.com/assets-staging.mapzen.com/ui/components/bug/bug.min.css",p="https://mapzen.com/",f="https://github.com/mapzen/",g="demo",b=function(i){return window.self!==window.top?!1:(m=i||{},m.analytics=i.analytics||!0,m.name=i.name||null,this.opts=m,n(),this.el=c(this.opts),this.twitterEl=this.el.querySelector(".mz-bug-twitter-link"),this.facebookEl=this.el.querySelector(".mz-bug-facebook-link"),this.rebuildLinks(),"onhashchange"in window&&(window.onhashchange=function(){this.rebuildLinks()}.bind(this)),void window.setTimeout(function(){"undefined"==typeof ga&&(console.log("Analytics not detected; loading Mapzen default..."),t(),m.analytics===!0&&e("analytics","fallback",null,!0)),m.analytics===!0&&e("bug","active",m.name,!0)},0))};return b.prototype.rebuildLinks=function(){this.twitterEl.href=o(this.opts),this.facebookEl.href=a(this.opts)},b}();